import { useState, useEffect } from 'react';
import { fetchLiveStocks } from '../services/api';

export default function useStockData(symbols) {
  const [data, setData] = useState([]);
  useEffect(() => {
    let active = true;
    async function poll() {
      const result = await fetchLiveStocks(symbols);
      if (active) setData(result);
    }
    poll();
    const id = setInterval(poll, 5000);
    return () => { active = false; clearInterval(id); };
  }, [symbols]);
  return { data };
}